<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Wittyshare: /home/ben/Programming/C++/Wittyshare/fsdaemon/src/FsDaemon/WsFsDaemon.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wittyshare
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9c8ef065d68891ce4124b8c341868e56.html">fsdaemon</a></li><li class="navelem"><a class="el" href="dir_d257a38aefb9ba390f499ea67bb32717.html">src</a></li><li class="navelem"><a class="el" href="dir_af7e2fb2c7a7955ded786ec965a76b91.html">FsDaemon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WsFsDaemon.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="WsFsDaemon_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WsFsDaemon_8h.html">WsFsDaemon.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsGlobalConfig_8h.html">Include/WsGlobalConfig.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsMenuTree_8h.html">Tree/WsMenuTree.h</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsAccessTree_8h.html">Tree/WsAccessTree.h</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsArraySerializer_8h.html">Serializer/WsArraySerializer.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsTreeSerializer_8h.html">Serializer/WsTreeSerializer.h</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsLogger_8h.html">Logger/WsLogger.h</a>&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsSearch_8h.html">Search/WsSearch.h</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WsRequestType_8h.html">Include/WsRequestType.h</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace </span>boost;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using namespace </span>zmq;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span>Json;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#af1ee088ebb9f8e6036443e441cad72b4">   29</a></span>&#160;<a class="code" href="classWsFsDaemon.html#af1ee088ebb9f8e6036443e441cad72b4">WsFsDaemon::WsFsDaemon</a>(<a class="code" href="classWsGlobalProperties.html">WsGlobalProperties</a>* props):</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  m_listening(true),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  m_conf(props)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a8eb477064466a19fe56c9152d47d0f50">m_conf</a>-&gt;<a class="code" href="classWsGlobalProperties.html#abd25ec7a371e434fea667fb9a3467181">get</a>(<span class="stringliteral">&quot;global&quot;</span>, <span class="stringliteral">&quot;enable_compression&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>) == <span class="stringliteral">&quot;true&quot;</span>) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classWsFsDaemon.html#ad97f3c8f85e0b8b5d8319d1d498a5aca">m_compress</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classWsFsDaemon.html#a723bfd2382cb71bd6420016d56926af6">m_compressor</a> = <span class="keyword">new</span> <a class="code" href="classWsCompressor.html">WsCompressor</a>();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="classWsFsDaemon.html#a6f4aba7d3bed429d54716aee66a0ea32">m_decompressor</a> = <span class="keyword">new</span> <a class="code" href="classWsDecompressor.html">WsDecompressor</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::WsFsDaemon() : Compression is enabled&quot;</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  } <span class="keywordflow">else</span> <a class="code" href="classWsFsDaemon.html#ad97f3c8f85e0b8b5d8319d1d498a5aca">m_compress</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a94f86e364343c0fcf32bbf9234552e15">   41</a></span>&#160;<a class="code" href="classWsFsDaemon.html#a94f86e364343c0fcf32bbf9234552e15">WsFsDaemon::~WsFsDaemon</a>()</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">/* Stop listenning */</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classWsFsDaemon.html#ac034a4b002f754558974fafa7232c30f">m_listening</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classWsLogWriter.html#a73a7c0bf9f65a86c0b991b780dee598c">WsLogWriter::instance</a>();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a71d274393962b19a440922ed44ca7d26">   49</a></span>&#160;WsFsDaemon::WsFsDaemon::DaemonStatus <a class="code" href="classWsFsDaemon.html#a71d274393962b19a440922ed44ca7d26">WsFsDaemon::workerRoutine</a>() {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>)&lt;&lt;<span class="stringliteral">&quot;WsFsDaemon::workerRoutine : starting new worker&quot;</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  zmq::socket_t sock (*<a class="code" href="classWsFsDaemon.html#a900c24e818e5c8dc68b4362b3de130f0">m_context</a>, ZMQ_REP);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  sock.connect (<span class="stringliteral">&quot;inproc://workers&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> root;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classWsFsDaemon.html#ac034a4b002f754558974fafa7232c30f">m_listening</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordtype">string</span> data;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="comment">/* Receive data from socket */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a8a18991848a31938af6f4e9151b2090b">receive</a>(sock, data) == <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="comment">/* Parse data (Json) */</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a8939a490844d975a7d1c5bccd72d5915">parse</a>(data, root) == <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a0cdea02a49390c7967404daf0716f750">RequestField::Failure</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="comment">/* handle the request depending on type */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordtype">int</span> ret = <a class="code" href="classWsFsDaemon.html#aa4b123baf628d0d6b0fcb02cbc1ee271">handleRequest</a>(sock, root);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="comment">/* If return code is error or not logged send a message */</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">switch</span> (ret) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>:</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a0cdea02a49390c7967404daf0716f750">RequestField::Failure</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0aacccd5f0dc680685df14c6add559df8d">NotLogged</a>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <span class="stringliteral">&quot;notlogged&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    } <span class="keywordflow">catch</span> (zmq::error_t err) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::bind() : Error listening &quot;</span> &lt;&lt; err.what();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a34377980a52178dfecaa22e08d70b1bb">   86</a></span>&#160;WsFsDaemon::WsFsDaemon::DaemonStatus <a class="code" href="classWsFsDaemon.html#a34377980a52178dfecaa22e08d70b1bb">WsFsDaemon::bind</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numWorkers)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">/* Instanciate object used for operations on tree */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a> = <span class="keyword">new</span> <a class="code" href="classWsFsTreeOperations.html">WsFsTreeOperations</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a3b72493a6b18e67afde289b165f2a9e7">update</a>() == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::bind() : Could not update WsFileSystemTree&quot;</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">/* Retrieve values from configuration */</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">string</span> protocol = <a class="code" href="classWsFsDaemon.html#a8eb477064466a19fe56c9152d47d0f50">m_conf</a>-&gt;<a class="code" href="classWsGlobalProperties.html#abd25ec7a371e434fea667fb9a3467181">get</a>(<span class="stringliteral">&quot;global&quot;</span>, <span class="stringliteral">&quot;protocol&quot;</span>, <span class="stringliteral">&quot;tcp&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">string</span> host = <a class="code" href="classWsFsDaemon.html#a8eb477064466a19fe56c9152d47d0f50">m_conf</a>-&gt;<a class="code" href="classWsGlobalProperties.html#abd25ec7a371e434fea667fb9a3467181">get</a>(<span class="stringliteral">&quot;global&quot;</span>, <span class="stringliteral">&quot;host&quot;</span>, <span class="stringliteral">&quot;127.0.0.1&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">string</span> port = <a class="code" href="classWsFsDaemon.html#a8eb477064466a19fe56c9152d47d0f50">m_conf</a>-&gt;<a class="code" href="classWsGlobalProperties.html#abd25ec7a371e434fea667fb9a3467181">get</a>(<span class="stringliteral">&quot;global&quot;</span>, <span class="stringliteral">&quot;port&quot;</span>, <span class="stringliteral">&quot;5555&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">/* Init socket related data and socket */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="classWsFsDaemon.html#a900c24e818e5c8dc68b4362b3de130f0">m_context</a> = <span class="keyword">new</span> context_t(1);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  socket_t clients(*<a class="code" href="classWsFsDaemon.html#a900c24e818e5c8dc68b4362b3de130f0">m_context</a>, ZMQ_ROUTER);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::bind() : Binding server using &quot;</span> &lt;&lt; protocol &lt;&lt; <span class="stringliteral">&quot; on &quot;</span> &lt;&lt; host &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; port;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    clients.bind((protocol + <span class="stringliteral">&quot;://&quot;</span> + host + <span class="stringliteral">&quot;:&quot;</span> + port).c_str());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  } <span class="keywordflow">catch</span> (zmq::error_t err) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::bind() : Cannot bind socket : &quot;</span> &lt;&lt; err.what();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  socket_t workers(*<a class="code" href="classWsFsDaemon.html#a900c24e818e5c8dc68b4362b3de130f0">m_context</a>, ZMQ_DEALER);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  workers.bind(<span class="stringliteral">&quot;inproc://workers&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">/* Load All groups */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classWsAuthenticator.html">WsAuthenticator</a> auth;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classWsFsDaemon.html#a2d99d246eaf141f04959a6eb08d0e1ab">m_allGroups</a> = auth.<a class="code" href="classWsAuthenticator.html#ad31b96f15500b160cb30f8e44abb68a0">getAllGroups</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">/* Launch workers in separate threads */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> thread_nbr = 0; thread_nbr != numWorkers; thread_nbr++) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">new</span> boost::thread(boost::bind(&amp;<a class="code" href="classWsFsDaemon.html#a71d274393962b19a440922ed44ca7d26">WsFsDaemon::workerRoutine</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// Connect work threads to client threads via a queue</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  zmq::proxy (clients, workers, NULL);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::bind() : Binding server Success !&quot;</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">Success</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">  129</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">WsFsDaemon::send</a>(socket_t&amp; sock, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; s)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">/* Compress data ? */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#ad97f3c8f85e0b8b5d8319d1d498a5aca">m_compress</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordtype">char</span>* data;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordtype">long</span> r = <a class="code" href="classWsFsDaemon.html#a723bfd2382cb71bd6420016d56926af6">m_compressor</a>-&gt;<a class="code" href="classWsCompressor.html#a92eaa36679d39358fd25beaa23dcc2d2">compress</a>(s, &amp;data);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">if</span> (r == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="comment">/* Create message */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      message_t reply(r);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">if</span> (memcpy ((<span class="keywordtype">void</span>*) reply.data (), data, r) == NULL) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Could not memcpy in Server&quot;</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keyword">delete</span>[] data;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">/* Send message */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span> (sock.send (reply) &lt; 0) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Could not send on socket &quot;</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">/* No compression, create and send message */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      message_t reply(s.length());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">if</span> (memcpy ((<span class="keywordtype">void</span>*) reply.data (), s.c_str(), s.length()) == NULL) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Could not memcpy in Server&quot;</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">if</span> (sock.send (reply) &lt; 0) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Could not send on socket &quot;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  } <span class="keywordflow">catch</span> (zmq::error_t err) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Error sending &quot;</span> &lt;&lt; err.what();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">Success</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a8a18991848a31938af6f4e9151b2090b">  169</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a8a18991848a31938af6f4e9151b2090b">WsFsDaemon::receive</a>(socket_t&amp; sock, <span class="keywordtype">string</span>&amp; receivedData)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    message_t request;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (sock.recv (&amp;request) &lt; 0) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::receive() : Could not receive on socket&quot;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    receivedData = <a class="code" href="classWsFsDaemon.html#aea708520af66ea35caf79c2f76999ecd">rawDataToString</a>(request);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  } <span class="keywordflow">catch</span> (zmq::error_t err) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::send() : Error sending &quot;</span> &lt;&lt; err.what();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">/* Parse the received request */</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">Success</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a8939a490844d975a7d1c5bccd72d5915">  186</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a8939a490844d975a7d1c5bccd72d5915">WsFsDaemon::parse</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; s, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">//Clear old Json tree</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  Reader reader;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  root.clear();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> (!reader.parse(s, root, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::parse() : Could not parse received input&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">Success</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#aa4b123baf628d0d6b0fcb02cbc1ee271">  198</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#aa4b123baf628d0d6b0fcb02cbc1ee271">WsFsDaemon::handleRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root )</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> v = root[<a class="code" href="namespaceRequestField.html#a8930f5674a8509c86600ed9ca54347c4">RequestField::Type</a>];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">if</span> (v == Value::null) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleRequest() : Could not find request type&quot;</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordtype">string</span> pass = root[<a class="code" href="namespaceRequestField.html#a7d6bd089dd52b717c430f8dbc7c5f9c0">RequestField::Pass</a>].asString();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">string</span> ip = root[<a class="code" href="namespaceRequestField.html#a0baea78bfd6fd3093103f62ea5dbc17f">RequestField::Ip</a>].asString();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordtype">int</span> requestType = v.asInt();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleRequest() : Received request : &quot;</span> &lt;&lt; requestType &lt;&lt; <span class="stringliteral">&quot; from user &quot;</span> &lt;&lt; uid &lt;&lt; <span class="stringliteral">&quot; ip &quot;</span> &lt;&lt; ip;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">/* Authenticate request */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (requestType == <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab89e8213cc79779a698875f1ac89445c">Auth</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a1c092db458f83e36e04af5bb3e797231">handleAuthRequest</a>(sock, root);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">/* Check if user is logged because all other requests needs authenticated user*/</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classWsFsDaemon.html#a1203c38d45d323c00248e9e1d3b1ea16">isActiveSession</a>(uid, pass, ip)) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleRequest() :  User is not logged &quot;</span> &lt;&lt; uid &lt;&lt; <span class="stringliteral">&quot; ip &quot;</span> &lt;&lt; ip &lt;&lt; <span class="stringliteral">&quot; request : &quot;</span> &lt;&lt; requestType;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0aacccd5f0dc680685df14c6add559df8d">NotLogged</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">switch</span> (requestType) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">/* Permission request */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa26ba5a4cd6dbbe498101df0a272d9dbf">Perm</a>:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#abd6c537ee70a3461a3dca9010c384602">handlePermRequest</a>(sock, root);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">/* Get all groups request */</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab0051f1de45115a1ffbf9699d9700afb">AllGroups</a>:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a87d48549bb10dd2d3ada77c83a1d697a">handleAllGroupsRequest</a>(sock, root);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">/* Get properties of a node request */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab0404ffef733441150fb5ee322fec245">Properties</a>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#af8a19df186fb4f5e63b6858514fab5aa">handlePropsRequest</a>(sock, root);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">/* Get a property of a node request */</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6b59cf161fe69fad3478f2aa7b98bf7f">Property</a>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a63ca715b09bdbf21f0ebc1ae1cb054cc">handlePropRequest</a>(sock, root);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* Search request */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afaf42dd3bc2be56354d2fbf529a3141416">Search</a>:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#aa1db4185b295b469b5f4532f6b9d3394">handleSearchRequest</a>(sock, root);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">/* Clear cache request */</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afae06522eb89ac3398b2fe46c3304017dc">ClearCache</a>:</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ab43277c5c9073c27f80a444c2b9948b1">handleClearCache</a>(sock, root);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">/* Get menu item request */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa7a898a23c9e297bdb98925b335517f81">MenuItems</a>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ac22a6afd304eeb439974a2d13dc6b497">handleMenuRequest</a>(sock, root);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">/* Get menu item with exclusions request */</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa7ce0aaea699d8ee9b1f10df51a98c6dc">MenuItemsEx</a>:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a7381f737725341bafd270fa588669465">handleMenuRequestEx</a>(sock, root);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">/* Get access tree items */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa443f0d995509c894dbd7a9f7b631245d">AccessItems</a>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a1db290cab351b9d45319a9cf5f888061">handleAccessTreeRequest</a>(sock, root);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* Get isEditor request */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6d8e999bafbe4b5bed23a90f205d0a86">IsEditor</a>:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a687bbc741b08b02f7eaffd3f44cc7cfb">handleIsEditorRequest</a>(sock, root);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">/* Get isAdmin request */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa3a1d282dfe3b3c2371a5dca532d2318b">IsAdmin</a>:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ae050dc9bf7b159e6f13c8f59f2a012fb">handleIsAdminRequest</a>(sock, root);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6fbba0662432b00b8261f62959ad27c9">RootPath</a>:</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a37d9923bdaf0813c820b4536853a1c9c">handleRootPathRequest</a>(sock, root);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">/* Get tree version request */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afadb42f64c072ccfd2cd0bbc13755a2937">TreeVersion</a>:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a300edc90106b5aa53d1fc91397969710">handleGetTreeVersion</a>(sock, root);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">/* Save properties of a node request */</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afae9870516d2fb437112e0bdce51eb5ca6">SaveProps</a>:</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a1304dbb244ac9d95912855a5c26687a5">handleSavePropertiesRequest</a>(sock, root);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">/* Save a property of a node request */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa55e8e6e6e8e9bb0550934075ee2679cc">SaveProp</a>:</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a21e622b9b8e507cfbed6876d5a8b0f41">handleSavePropertyRequest</a>(sock, root);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">/* Create a node request */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afac26e5e5d100fa1ff47abe6a00038c1fa">CreateNode</a>:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a1dc984e5578e2570d94d7e3724042422">handleCreateNodeRequest</a>(sock, root);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">/* Delete a node request */</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa0ec819fe1e5331a285201a065d1f54df">DeleteNode</a>:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a417efb5aa215eee3dd4ac7532b65f114">handleDeleteNodeRequest</a>(sock, root);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">/* Rename a node request */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa789c36d1722fa35fa48dfe62ccd62b79">RenameNode</a>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ae2fc4e2bca42bd573782a18999a9ade7">handleRenameNodeRequest</a>(sock, root);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">/* get RootPath request */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleRequest() : Undefined request type &quot;</span> &lt;&lt; requestType;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a1c092db458f83e36e04af5bb3e797231">  280</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a1c092db458f83e36e04af5bb3e797231">WsFsDaemon::handleAuthRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordtype">string</span> pass = root[<a class="code" href="namespaceRequestField.html#a7d6bd089dd52b717c430f8dbc7c5f9c0">RequestField::Pass</a>].asString();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordtype">string</span> ip = root[<a class="code" href="namespaceRequestField.html#a0baea78bfd6fd3093103f62ea5dbc17f">RequestField::Ip</a>].asString();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">/* Check if there&#39;s already an active session for the user */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a1203c38d45d323c00248e9e1d3b1ea16">isActiveSession</a>(uid, pass, ip)) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">/* If yes retrieve it from the cache */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classWsUserSession.html">WsUserSession</a>* usess = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid];</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleAuthRequest() : Session active for &quot;</span> &lt;&lt; uid;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> answer;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    answer[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>] = uid;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    answer[<a class="code" href="namespaceRequestField.html#a20464a96ef8f80579ced0313a554dd0c">RequestField::Name</a>] = usess-&gt;<a class="code" href="classWsUserSession.html#a0ff4ad17e5fad31a99b18b14373de4e6">getName</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    answer[<a class="code" href="namespaceRequestField.html#a2a4d0ead112436210f7f4c6d1442481f">RequestField::Surname</a>] = usess-&gt;<a class="code" href="classWsUserSession.html#a812c4f6413df42290f2614fc15b3f3b5">getSurname</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    answer[<a class="code" href="namespaceRequestField.html#a5255a13d2cc2b611128c141c7e0d047b">RequestField::Email</a>] = usess-&gt;<a class="code" href="classWsUserSession.html#ac00ca7722d2d7db5a608b5c97755e2a2">getEmail</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, answer.toStyledString());</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleAuthRequest() : Received authentification request from user &quot;</span> &lt;&lt; uid;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">/* No active session, we need to authenticate the user */</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classWsAuthenticator.html">WsAuthenticator</a> c;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (c.<a class="code" href="classWsAuthenticator.html#a7ec1a8a40cece9633815c464abdfe125">authentify</a>(uid, pass, ip) == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">/* Create message */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> answer;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  answer[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>] = c.<a class="code" href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">getUid</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  answer[<a class="code" href="namespaceRequestField.html#a20464a96ef8f80579ced0313a554dd0c">RequestField::Name</a>] = c.<a class="code" href="classWsAuthenticator.html#ae5fd81dfc6a89be3ffed07b320ebb67a">getFirstName</a>();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  answer[<a class="code" href="namespaceRequestField.html#a2a4d0ead112436210f7f4c6d1442481f">RequestField::Surname</a>] = c.<a class="code" href="classWsAuthenticator.html#a09985952ce54e40278c1b441c58812bb">getSurname</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  answer[<a class="code" href="namespaceRequestField.html#a5255a13d2cc2b611128c141c7e0d047b">RequestField::Email</a>] = c.<a class="code" href="classWsAuthenticator.html#a65ce0eca03619d85582582ef2ca6ab08">getEmail</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  set&lt;string&gt; groups = c.<a class="code" href="classWsAuthenticator.html#a8885a806546abcefd8b1638c46ff4b65">getUserGroups</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">/* Insert uid in groups User is part of his group*/</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  groups.insert(c.<a class="code" href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">getUid</a>());</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classWsUserSession.html">WsUserSession</a>* sess =  <span class="keyword">new</span> <a class="code" href="classWsUserSession.html">WsUserSession</a>(c.<a class="code" href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">getUid</a>(), pass, ip);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  sess-&gt;<a class="code" href="classWsUserSession.html#aa100dc0b2b1630af172e29729096d4fc">setName</a>(c.<a class="code" href="classWsAuthenticator.html#ae5fd81dfc6a89be3ffed07b320ebb67a">getFirstName</a>());</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  sess-&gt;<a class="code" href="classWsUserSession.html#ab2e27c102b808723847b642c7df01182">setSurname</a>(c.<a class="code" href="classWsAuthenticator.html#a09985952ce54e40278c1b441c58812bb">getSurname</a>());</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  sess-&gt;<a class="code" href="classWsUserSession.html#a508d579556e679c89d76a2eddd5f4e7b">setEmail</a>(c.<a class="code" href="classWsAuthenticator.html#a65ce0eca03619d85582582ef2ca6ab08">getEmail</a>());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  sess-&gt;<a class="code" href="classWsUserSession.html#a7a337736da48712a8da99396c7f561ee">setGroups</a>(c.<a class="code" href="classWsAuthenticator.html#a8885a806546abcefd8b1638c46ff4b65">getUserGroups</a>());</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[c.<a class="code" href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">getUid</a>()] = sess;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a>(<a class="code" href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;WsFsDaemon::handleAuthRequest() : new uid is &quot;</span> &lt;&lt; c.<a class="code" href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">getUid</a>();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, answer.toStyledString());</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#ac22a6afd304eeb439974a2d13dc6b497">  322</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#ac22a6afd304eeb439974a2d13dc6b497">WsFsDaemon::handleMenuRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">/* Create menuTree */</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classWsMenuTree.html">WsMenuTree</a>* tree = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a9e7994b204222ef59816d33f75f8654c">getMenuTree</a>(groups);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (tree == 0)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">/* Transform menuTree to json */</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="classWsTreeSerializer.html">WsTreeSerializer</a> serializer(tree);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  serializer.<a class="code" href="classWsTreeSerializer.html#ab872a2e213e5e9c6388f06d4ff234549">serialize</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keyword">delete</span> tree;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, serializer.<a class="code" href="classWsTreeSerializer.html#a0f64335108b8fefbfc8416c119d9f3c0">getSerializedForm</a>());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a7381f737725341bafd270fa588669465">  338</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a7381f737725341bafd270fa588669465">WsFsDaemon::handleMenuRequestEx</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> names;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> ext;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">/* Get the 2 vectors */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  set&lt;string&gt; exclNames, exclExt;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  names = root[<a class="code" href="namespaceRequestField.html#a6c7d9fb0eb379ac0e7ba33b1bbadef74">RequestField::ExclNames</a>];</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; names.size(); ++i)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    exclNames.insert(names[i].asString());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  ext = root[<a class="code" href="namespaceRequestField.html#a6a7d250be13f7c64cad0ff7db0b3530b">RequestField::ExclExt</a>];</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ext.size(); ++i)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    exclExt.insert(ext[i].asString());</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">/* Create menuTree */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="classWsMenuTree.html">WsMenuTree</a>* tree = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a9e7994b204222ef59816d33f75f8654c">getMenuTree</a>(groups, exclNames, exclExt);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">if</span> (tree == 0)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">/* Transform menuTree to json */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="classWsTreeSerializer.html">WsTreeSerializer</a> serializer(tree);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  serializer.<a class="code" href="classWsTreeSerializer.html#ab872a2e213e5e9c6388f06d4ff234549">serialize</a>();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keyword">delete</span> tree;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, serializer.<a class="code" href="classWsTreeSerializer.html#a0f64335108b8fefbfc8416c119d9f3c0">getSerializedForm</a>());</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a1db290cab351b9d45319a9cf5f888061">  364</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a1db290cab351b9d45319a9cf5f888061">WsFsDaemon::handleAccessTreeRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">/* Get the groups of the user */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">/* Create AccessTree */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classWsAccessTree.html">WsAccessTree</a>* tree = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a903ab14320550bc4e8b4deb5db07880a">getAccessTree</a>(groups);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (tree == 0)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">/* Transform menuTree to json */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classWsTreeSerializer.html">WsTreeSerializer</a> serializer(tree);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  serializer.<a class="code" href="classWsTreeSerializer.html#ab872a2e213e5e9c6388f06d4ff234549">serialize</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">delete</span> tree;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, serializer.<a class="code" href="classWsTreeSerializer.html#a0f64335108b8fefbfc8416c119d9f3c0">getSerializedForm</a>());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#abd6c537ee70a3461a3dca9010c384602">  381</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#abd6c537ee70a3461a3dca9010c384602">WsFsDaemon::handlePermRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">/* get credentials */</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">/* get users groups */</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">/* Get permissions on node for user */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordtype">int</span> perms = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a9dc233f315b1741e764e57adf8e01fbc">getPermissions</a>(groups, path);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> ( perms != <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, boost::lexical_cast&lt;string&gt;(perms));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a87d48549bb10dd2d3ada77c83a1d697a">  395</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a87d48549bb10dd2d3ada77c83a1d697a">WsFsDaemon::handleAllGroupsRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">/* Serialize the groups */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="classWsArraySerializer.html">WsArraySerializer</a> s(<a class="code" href="classWsFsDaemon.html#a2d99d246eaf141f04959a6eb08d0e1ab">m_allGroups</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, s.<a class="code" href="classWsArraySerializer.html#ac1ca46b920a6a7393a0dabba81647e24">getSerializedForm</a>()) == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">Success</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#af8a19df186fb4f5e63b6858514fab5aa">  406</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#af8a19df186fb4f5e63b6858514fab5aa">WsFsDaemon::handlePropsRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="classWsNodeProperties.html">WsNodeProperties</a>* answer;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">/* Get groups of user */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">/* Get properties of node */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  answer = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#ae656db5a758f0fcd8b608f9fc9c306b8">getProperties</a>(groups, path);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">if</span> (answer == 0)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, answer-&gt;<a class="code" href="classWsNodeProperties.html#ae89729a7ab7f330fd5ad61992a3795b2">getRoot</a>().toStyledString());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a63ca715b09bdbf21f0ebc1ae1cb054cc">  422</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a63ca715b09bdbf21f0ebc1ae1cb054cc">WsFsDaemon::handlePropRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordtype">string</span> p = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">string</span> section = root[<a class="code" href="namespaceRequestField.html#acb204751e1a0b287efdc289b443760f7">RequestField::Section</a>].asString();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">string</span> prop = root[<a class="code" href="namespaceRequestField.html#a1e917138cd1abb3602387fef6e358b40">RequestField::Property</a>].asString();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordtype">string</span> answer;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">/* Get the node */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  answer = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a0deb8709635d34369519cb39561b2af7">getProperty</a>(groups, section, p, prop);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, answer);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#aa1db4185b295b469b5f4532f6b9d3394">  437</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#aa1db4185b295b469b5f4532f6b9d3394">WsFsDaemon::handleSearchRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a> answer;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordtype">string</span> terms = root[<a class="code" href="namespaceRequestField.html#a0511633c97bd79c4f9f8fa7840202e90">RequestField::Terms</a>].asString();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">/* Get the groups of user */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">/* Get the search results */</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  vector&lt;WsResultItem&gt; l = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a67788ada881f3dc19c1819fb54b6f709">getSearchResults</a>(groups, terms);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  vector&lt;WsResultItem&gt;::iterator it;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">/* Build the Json answer */</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">for</span> (it = l.begin(); it != l.end(); ++it, ++i) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    answer[i][<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>] = (*it).getPath().string();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    answer[i][<a class="code" href="namespaceRequestField.html#a2667f456e4f646bdd52f8b8ef5bacce1">RequestField::Body</a>] = (*it).getBody();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    answer[i][<a class="code" href="namespaceRequestField.html#a8930f5674a8509c86600ed9ca54347c4">RequestField::Type</a>] = (*it).getType();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    answer[i][<a class="code" href="namespaceRequestField.html#a40dd96206debae4205c85371caf42967">RequestField::Size</a>] = (double)(*it).getSize();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    answer[i][<a class="code" href="namespaceRequestField.html#ab22966b83b567e4d05b6304082db30a9">RequestField::ModifyDate</a>] = (double)(*it).getModifyDate();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, answer.toStyledString());</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#ab43277c5c9073c27f80a444c2b9948b1">  460</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#ab43277c5c9073c27f80a444c2b9948b1">WsFsDaemon::handleClearCache</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>.count(uid) &gt; 0)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid];</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>.erase(uid);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a687bbc741b08b02f7eaffd3f44cc7cfb">  470</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a687bbc741b08b02f7eaffd3f44cc7cfb">WsFsDaemon::handleIsEditorRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">/* Get user groups */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">/* Check if he is editor and send result */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a5bd31486a40047320fad603506247950">isEditor</a>(groups))</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <span class="stringliteral">&quot;true&quot;</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#ae050dc9bf7b159e6f13c8f59f2a012fb">  483</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#ae050dc9bf7b159e6f13c8f59f2a012fb">WsFsDaemon::handleIsAdminRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">/* Get the groups of the user */</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">/* Check if he is an admin and send result */</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a7a9e88326b4f6e06e7487596ff868178">isAdministrator</a>(groups))</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <span class="stringliteral">&quot;true&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a1304dbb244ac9d95912855a5c26687a5">  496</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a1304dbb244ac9d95912855a5c26687a5">WsFsDaemon::handleSavePropertiesRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">/* Get groups */</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">/* Save */</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#ae21caec73c1d3b29a4f9444b470c6dcf">saveProperties</a>(groups, root[<a class="code" href="namespaceRequestField.html#a8930f5674a8509c86600ed9ca54347c4">RequestField::Type</a>].toStyledString(), path) != <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a21e622b9b8e507cfbed6876d5a8b0f41">  509</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a21e622b9b8e507cfbed6876d5a8b0f41">WsFsDaemon::handleSavePropertyRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordtype">string</span> section = root[<a class="code" href="namespaceRequestField.html#acb204751e1a0b287efdc289b443760f7">RequestField::Section</a>].asString();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">string</span> key = root[<a class="code" href="namespaceRequestField.html#afe032d68e9fb2b0771e1af2ad35437f1">RequestField::Key</a>].asString();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordtype">string</span> value = root[<a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">RequestField::Value</a>].asString();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">/* get groups */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">/* Save */</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#aa3c379be4e57bca043f91000cd4ea62d">saveProperty</a>(groups, path, section, key, value) != <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a1dc984e5578e2570d94d7e3724042422">  526</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a1dc984e5578e2570d94d7e3724042422">WsFsDaemon::handleCreateNodeRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordtype">int</span> type = root[<a class="code" href="namespaceRequestField.html#a05a49fd15a931c22fecfff34bf161561">RequestField::NodeType</a>].asInt();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">/* Get groups */</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">/* Create node */</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a3e8479f822b99adb763ca63bd83aa7e2">createNode</a>(groups, uid, path, type) == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a417efb5aa215eee3dd4ac7532b65f114">  540</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a417efb5aa215eee3dd4ac7532b65f114">WsFsDaemon::handleDeleteNodeRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">/* Get groups */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">/* delete node */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#ac5fcf594f2f6af45f813643debed08f2">deleteNode</a>(groups, uid, path) == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#ae2fc4e2bca42bd573782a18999a9ade7">  553</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#ae2fc4e2bca42bd573782a18999a9ade7">WsFsDaemon::handleRenameNodeRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;{</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordtype">string</span> path = root[<a class="code" href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a>].asString();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">string</span> newPath = root[<a class="code" href="namespaceRequestField.html#a48390b677eb6de8e6bf8de049e61ea04">RequestField::NewPath</a>].asString();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">/* Get groups */</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  set&lt;string&gt; groups = <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;getGroups();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">/* rename node */</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#ada6cb030e447b75249e42a38e38988e1">renameNode</a>(groups, uid, path, newPath) == <a class="code" href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">Failure</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, <a class="code" href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a37d9923bdaf0813c820b4536853a1c9c">  567</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a37d9923bdaf0813c820b4536853a1c9c">WsFsDaemon::handleRootPathRequest</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;{</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">/* get rootPath */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordtype">string</span> rootPath = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a107da373fb9bbbbb2a604e833057e3dc">getRootPath</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, rootPath);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a300edc90106b5aa53d1fc91397969710">  576</a></span>&#160;<a class="code" href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a> <a class="code" href="classWsFsDaemon.html#a300edc90106b5aa53d1fc91397969710">WsFsDaemon::handleGetTreeVersion</a>(socket_t&amp; sock, <a class="code" href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">Value</a>&amp; root)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">/* Get credentials */</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordtype">string</span> uid = root[<a class="code" href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a>].asString();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">string</span> version = <a class="code" href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">m_operation</a>-&gt;<a class="code" href="classWsFsTreeOperations.html#a196619c3e32b551b9a0d9261ec20c362">getFsTreeStamp</a>();</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">send</a>(sock, version);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#aea708520af66ea35caf79c2f76999ecd">  584</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="classWsFsDaemon.html#aea708520af66ea35caf79c2f76999ecd">WsFsDaemon::rawDataToString</a>(zmq::message_t&amp; msg)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordtype">string</span> ret;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classWsFsDaemon.html#ad97f3c8f85e0b8b5d8319d1d498a5aca">m_compress</a>) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="classWsFsDaemon.html#a6f4aba7d3bed429d54716aee66a0ea32">m_decompressor</a>-&gt;<a class="code" href="classWsDecompressor.html#a9e416710113e7f86207ebb894fef628c">decompress</a>(static_cast&lt;char*&gt;(msg.data()), msg.size(), ret);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  } <span class="keywordflow">else</span> ret =  string(static_cast&lt;char*&gt;(msg.data()), msg.size());</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="classWsFsDaemon.html#a1203c38d45d323c00248e9e1d3b1ea16">  593</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classWsFsDaemon.html#a1203c38d45d323c00248e9e1d3b1ea16">WsFsDaemon::isActiveSession</a>(<span class="keyword">const</span> std::string&amp; uid, <span class="keyword">const</span> std::string&amp; pass, <span class="keyword">const</span> std::string&amp; ip)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>.count(uid) &gt; 0)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">m_userMap</a>[uid]-&gt;isValidSession(uid, pass, ip);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="ttc" id="classWsUserSession_html"><div class="ttname"><a href="classWsUserSession.html">WsUserSession</a></div><div class="ttdoc">Reprensents a User session. </div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8h_source.html#l00027">WsUserSession.h:27</a></div></div>
<div class="ttc" id="classWsArraySerializer_html"><div class="ttname"><a href="classWsArraySerializer.html">WsArraySerializer</a></div><div class="ttdoc">Serializes an array. </div><div class="ttdef"><b>Definition:</b> <a href="WsArraySerializer_8h_source.html#l00026">WsArraySerializer.h:26</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_abd6c537ee70a3461a3dca9010c384602"><div class="ttname"><a href="classWsFsDaemon.html#abd6c537ee70a3461a3dca9010c384602">WsFsDaemon::handlePermRequest</a></div><div class="ttdeci">DaemonStatus handlePermRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends the permissions of a path to the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00381">WsFsDaemon.cpp:381</a></div></div>
<div class="ttc" id="classWsUserSession_html_ab2e27c102b808723847b642c7df01182"><div class="ttname"><a href="classWsUserSession.html#ab2e27c102b808723847b642c7df01182">WsUserSession::setSurname</a></div><div class="ttdeci">void setSurname(const std::string &amp;surname)</div><div class="ttdoc">set the surname of the user </div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00072">WsUserSession.cpp:72</a></div></div>
<div class="ttc" id="WsAccessTree_8h_html"><div class="ttname"><a href="WsAccessTree_8h.html">WsAccessTree.h</a></div><div class="ttdoc">Reprensents the menu tree of a group. If a group does not have access to a Node, this Node will not s...</div></div>
<div class="ttc" id="WsRequestType_8h_html"><div class="ttname"><a href="WsRequestType_8h.html">WsRequestType.h</a></div><div class="ttdoc">RequestType enum variables. </div></div>
<div class="ttc" id="classWsFsDaemon_html_a34377980a52178dfecaa22e08d70b1bb"><div class="ttname"><a href="classWsFsDaemon.html#a34377980a52178dfecaa22e08d70b1bb">WsFsDaemon::bind</a></div><div class="ttdeci">DaemonStatus bind(unsigned int numWorkers=1)</div><div class="ttdoc">start listening on the port </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00086">WsFsDaemon.cpp:86</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a2a4d0ead112436210f7f4c6d1442481f"><div class="ttname"><a href="namespaceRequestField.html#a2a4d0ead112436210f7f4c6d1442481f">RequestField::Surname</a></div><div class="ttdeci">const std::string Surname</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00024">WsRequestType.h:24</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a8eb477064466a19fe56c9152d47d0f50"><div class="ttname"><a href="classWsFsDaemon.html#a8eb477064466a19fe56c9152d47d0f50">WsFsDaemon::m_conf</a></div><div class="ttdeci">WsGlobalProperties * m_conf</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00254">WsFsDaemon.h:254</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a10a822957a8ee52c26d357308a08d8ba"><div class="ttname"><a href="namespaceRequestField.html#a10a822957a8ee52c26d357308a08d8ba">RequestField::Path</a></div><div class="ttdeci">const std::string Path</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00028">WsRequestType.h:28</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a0deb8709635d34369519cb39561b2af7"><div class="ttname"><a href="classWsFsTreeOperations.html#a0deb8709635d34369519cb39561b2af7">WsFsTreeOperations::getProperty</a></div><div class="ttdeci">std::string getProperty(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;section, const std::string &amp;p, const std::string &amp;prop)</div><div class="ttdoc">get a property for a node corresponding to the path </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00057">WsFsTreeOperations.cpp:57</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa7a898a23c9e297bdb98925b335517f81"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa7a898a23c9e297bdb98925b335517f81">MenuItems</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00053">WsRequestType.h:53</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_a664f538d9b56c3acab26751202d57770"><div class="ttname"><a href="classWsAuthenticator.html#a664f538d9b56c3acab26751202d57770">WsAuthenticator::getUid</a></div><div class="ttdeci">std::string getUid()</div><div class="ttdoc">return the user uid WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00048">WsAuthenticator.cpp:48</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ac79c377b827c376546c914d8e1d7cc03"><div class="ttname"><a href="classWsFsDaemon.html#ac79c377b827c376546c914d8e1d7cc03">WsFsDaemon::m_userMap</a></div><div class="ttdeci">map&lt; string, WsUserSession * &gt; m_userMap</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00269">WsFsDaemon.h:269</a></div></div>
<div class="ttc" id="WsLogger_8h_html_ad72dbcf6d0153db1b8d8a58001feed83"><div class="ttname"><a href="WsLogger_8h.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a></div><div class="ttdeci">#define DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="WsLogger_8h_source.html#l00027">WsLogger.h:27</a></div></div>
<div class="ttc" id="classWsUserSession_html_aa100dc0b2b1630af172e29729096d4fc"><div class="ttname"><a href="classWsUserSession.html#aa100dc0b2b1630af172e29729096d4fc">WsUserSession::setName</a></div><div class="ttdeci">void setName(const std::string &amp;name)</div><div class="ttdoc">set the name of the user </div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00067">WsUserSession.cpp:67</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_a09985952ce54e40278c1b441c58812bb"><div class="ttname"><a href="classWsAuthenticator.html#a09985952ce54e40278c1b441c58812bb">WsAuthenticator::getSurname</a></div><div class="ttdeci">std::string getSurname()</div><div class="ttdoc">return the user surname WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00062">WsAuthenticator.cpp:62</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ae2fc4e2bca42bd573782a18999a9ade7"><div class="ttname"><a href="classWsFsDaemon.html#ae2fc4e2bca42bd573782a18999a9ade7">WsFsDaemon::handleRenameNodeRequest</a></div><div class="ttdeci">DaemonStatus handleRenameNodeRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">rename a node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00553">WsFsDaemon.cpp:553</a></div></div>
<div class="ttc" id="classWsGlobalProperties_html"><div class="ttname"><a href="classWsGlobalProperties.html">WsGlobalProperties</a></div><div class="ttdoc">Global properties class. </div><div class="ttdef"><b>Definition:</b> <a href="WsGlobalProperties_8h_source.html#l00026">WsGlobalProperties.h:26</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_aea708520af66ea35caf79c2f76999ecd"><div class="ttname"><a href="classWsFsDaemon.html#aea708520af66ea35caf79c2f76999ecd">WsFsDaemon::rawDataToString</a></div><div class="ttdeci">string rawDataToString(zmq::message_t &amp;msg)</div><div class="ttdoc">converts raw data received on the socket to string </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00584">WsFsDaemon.cpp:584</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c"><div class="ttname"><a href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0abb473755202cf0d122ba53160e8a595c">WsFsDaemon::Failure</a></div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00049">WsFsDaemon.h:49</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_aa3c379be4e57bca043f91000cd4ea62d"><div class="ttname"><a href="classWsFsTreeOperations.html#aa3c379be4e57bca043f91000cd4ea62d">WsFsTreeOperations::saveProperty</a></div><div class="ttdeci">int saveProperty(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;path, const std::string &amp;section, const std::string &amp;attr, const std::string &amp;val)</div><div class="ttdoc">save a property of the node. The user must have access and edit rights for the node. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00099">WsFsTreeOperations.cpp:99</a></div></div>
<div class="ttc" id="WsLogger_8h_html"><div class="ttname"><a href="WsLogger_8h.html">WsLogger.h</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a8939a490844d975a7d1c5bccd72d5915"><div class="ttname"><a href="classWsFsDaemon.html#a8939a490844d975a7d1c5bccd72d5915">WsFsDaemon::parse</a></div><div class="ttdeci">DaemonStatus parse(const std::string &amp;s, Json::Value &amp;root)</div><div class="ttdoc">Parses the received data (json) </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00186">WsFsDaemon.cpp:186</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_ae21caec73c1d3b29a4f9444b470c6dcf"><div class="ttname"><a href="classWsFsTreeOperations.html#ae21caec73c1d3b29a4f9444b470c6dcf">WsFsTreeOperations::saveProperties</a></div><div class="ttdeci">int saveProperties(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;json, const std::string &amp;path)</div><div class="ttdoc">save the properties of the node. The user must have access and edit rights for the node...</div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00094">WsFsTreeOperations.cpp:94</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a1dc984e5578e2570d94d7e3724042422"><div class="ttname"><a href="classWsFsDaemon.html#a1dc984e5578e2570d94d7e3724042422">WsFsDaemon::handleCreateNodeRequest</a></div><div class="ttdeci">DaemonStatus handleCreateNodeRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">create a node requested by the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00526">WsFsDaemon.cpp:526</a></div></div>
<div class="ttc" id="WsArraySerializer_8h_html"><div class="ttname"><a href="WsArraySerializer_8h.html">WsArraySerializer.h</a></div><div class="ttdoc">Serializes the array. </div></div>
<div class="ttc" id="classWsFsDaemon_html_a1203c38d45d323c00248e9e1d3b1ea16"><div class="ttname"><a href="classWsFsDaemon.html#a1203c38d45d323c00248e9e1d3b1ea16">WsFsDaemon::isActiveSession</a></div><div class="ttdeci">bool isActiveSession(const std::string &amp;uid, const std::string &amp;pass, const std::string &amp;ip)</div><div class="ttdoc">returns true or false whether the section of a user is still active or not </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00593">WsFsDaemon.cpp:593</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_a65ce0eca03619d85582582ef2ca6ab08"><div class="ttname"><a href="classWsAuthenticator.html#a65ce0eca03619d85582582ef2ca6ab08">WsAuthenticator::getEmail</a></div><div class="ttdeci">std::string getEmail()</div><div class="ttdoc">return the user email WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00069">WsAuthenticator.cpp:69</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a05a49fd15a931c22fecfff34bf161561"><div class="ttname"><a href="namespaceRequestField.html#a05a49fd15a931c22fecfff34bf161561">RequestField::NodeType</a></div><div class="ttdeci">const std::string NodeType</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00040">WsRequestType.h:40</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a6f4aba7d3bed429d54716aee66a0ea32"><div class="ttname"><a href="classWsFsDaemon.html#a6f4aba7d3bed429d54716aee66a0ea32">WsFsDaemon::m_decompressor</a></div><div class="ttdeci">WsDecompressor * m_decompressor</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00289">WsFsDaemon.h:289</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afab89e8213cc79779a698875f1ac89445c"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab89e8213cc79779a698875f1ac89445c">Auth</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00046">WsRequestType.h:46</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa6d8e999bafbe4b5bed23a90f205d0a86"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6d8e999bafbe4b5bed23a90f205d0a86">IsEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00056">WsRequestType.h:56</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a94f86e364343c0fcf32bbf9234552e15"><div class="ttname"><a href="classWsFsDaemon.html#a94f86e364343c0fcf32bbf9234552e15">WsFsDaemon::~WsFsDaemon</a></div><div class="ttdeci">~WsFsDaemon()</div><div class="ttdoc">destructor </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00041">WsFsDaemon.cpp:41</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa7ce0aaea699d8ee9b1f10df51a98c6dc"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa7ce0aaea699d8ee9b1f10df51a98c6dc">MenuItemsEx</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00054">WsRequestType.h:54</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html"><div class="ttname"><a href="classWsFsTreeOperations.html">WsFsTreeOperations</a></div><div class="ttdoc">Redirect operations to adequate class. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8h_source.html#l00029">WsFsTreeOperations.h:29</a></div></div>
<div class="ttc" id="classWsAccessTree_html"><div class="ttname"><a href="classWsAccessTree.html">WsAccessTree</a></div><div class="ttdoc">Reprensents an access tree. </div><div class="ttdef"><b>Definition:</b> <a href="WsAccessTree_8h_source.html#l00024">WsAccessTree.h:24</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a1304dbb244ac9d95912855a5c26687a5"><div class="ttname"><a href="classWsFsDaemon.html#a1304dbb244ac9d95912855a5c26687a5">WsFsDaemon::handleSavePropertiesRequest</a></div><div class="ttdeci">DaemonStatus handleSavePropertiesRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">saves the properties received by the client for a node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00496">WsFsDaemon.cpp:496</a></div></div>
<div class="ttc" id="classWsAuthenticator_html"><div class="ttname"><a href="classWsAuthenticator.html">WsAuthenticator</a></div><div class="ttdoc">Loads Authentification module and acts as an interface. </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8h_source.html#l00026">WsAuthenticator.h:26</a></div></div>
<div class="ttc" id="classWsTreeSerializer_html"><div class="ttname"><a href="classWsTreeSerializer.html">WsTreeSerializer</a></div><div class="ttdoc">Serializes a tree (WsAccessTree, WsMenuTree). </div><div class="ttdef"><b>Definition:</b> <a href="WsTreeSerializer_8h_source.html#l00034">WsTreeSerializer.h:34</a></div></div>
<div class="ttc" id="classWsNodeProperties_html"><div class="ttname"><a href="classWsNodeProperties.html">WsNodeProperties</a></div><div class="ttdoc">Properties of a WsNode. </div><div class="ttdef"><b>Definition:</b> <a href="WsNodeProperties_8h_source.html#l00028">WsNodeProperties.h:28</a></div></div>
<div class="ttc" id="classWsCompressor_html"><div class="ttname"><a href="classWsCompressor.html">WsCompressor</a></div><div class="ttdoc">Used to compress data. </div><div class="ttdef"><b>Definition:</b> <a href="WsCompressor_8h_source.html#l00024">WsCompressor.h:24</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a8a18991848a31938af6f4e9151b2090b"><div class="ttname"><a href="classWsFsDaemon.html#a8a18991848a31938af6f4e9151b2090b">WsFsDaemon::receive</a></div><div class="ttdeci">DaemonStatus receive(zmq::socket_t &amp;sock, std::string &amp;receivedData)</div><div class="ttdoc">read data from the socket </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00169">WsFsDaemon.cpp:169</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afadb42f64c072ccfd2cd0bbc13755a2937"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afadb42f64c072ccfd2cd0bbc13755a2937">TreeVersion</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00059">WsRequestType.h:59</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa789c36d1722fa35fa48dfe62ccd62b79"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa789c36d1722fa35fa48dfe62ccd62b79">RenameNode</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00064">WsRequestType.h:64</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a7d6bd089dd52b717c430f8dbc7c5f9c0"><div class="ttname"><a href="namespaceRequestField.html#a7d6bd089dd52b717c430f8dbc7c5f9c0">RequestField::Pass</a></div><div class="ttdeci">const std::string Pass</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00022">WsRequestType.h:22</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a903ab14320550bc4e8b4deb5db07880a"><div class="ttname"><a href="classWsFsTreeOperations.html#a903ab14320550bc4e8b4deb5db07880a">WsFsTreeOperations::getAccessTree</a></div><div class="ttdeci">WsAccessTree * getAccessTree(const std::set&lt; std::string &gt; &amp;groups)</div><div class="ttdoc">Get the access tree starting from rootPath. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00072">WsFsTreeOperations.cpp:72</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a102470d19700ee8f57323944c573f183"><div class="ttname"><a href="classWsFsDaemon.html#a102470d19700ee8f57323944c573f183">WsFsDaemon::m_operation</a></div><div class="ttdeci">WsFsTreeOperations * m_operation</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00264">WsFsDaemon.h:264</a></div></div>
<div class="ttc" id="classWsUserSession_html_a0ff4ad17e5fad31a99b18b14373de4e6"><div class="ttname"><a href="classWsUserSession.html#a0ff4ad17e5fad31a99b18b14373de4e6">WsUserSession::getName</a></div><div class="ttdeci">const std::string &amp; getName()</div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00052">WsUserSession.cpp:52</a></div></div>
<div class="ttc" id="classWsMenuTree_html"><div class="ttname"><a href="classWsMenuTree.html">WsMenuTree</a></div><div class="ttdoc">Reprensents a MenuTree. </div><div class="ttdef"><b>Definition:</b> <a href="WsMenuTree_8h_source.html#l00026">WsMenuTree.h:26</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ac034a4b002f754558974fafa7232c30f"><div class="ttname"><a href="classWsFsDaemon.html#ac034a4b002f754558974fafa7232c30f">WsFsDaemon::m_listening</a></div><div class="ttdeci">bool m_listening</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00259">WsFsDaemon.h:259</a></div></div>
<div class="ttc" id="classWsUserSession_html_a7a337736da48712a8da99396c7f561ee"><div class="ttname"><a href="classWsUserSession.html#a7a337736da48712a8da99396c7f561ee">WsUserSession::setGroups</a></div><div class="ttdeci">void setGroups(const std::set&lt; std::string &gt; &amp;groups)</div><div class="ttdoc">sets the groups of a user </div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00032">WsUserSession.cpp:32</a></div></div>
<div class="ttc" id="namespaceRequestField_html_ab22966b83b567e4d05b6304082db30a9"><div class="ttname"><a href="namespaceRequestField.html#ab22966b83b567e4d05b6304082db30a9">RequestField::ModifyDate</a></div><div class="ttdeci">const std::string ModifyDate</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00037">WsRequestType.h:37</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ace713e1eb1dd49bda971ed95610415c0aacccd5f0dc680685df14c6add559df8d"><div class="ttname"><a href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0aacccd5f0dc680685df14c6add559df8d">WsFsDaemon::NotLogged</a></div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00050">WsFsDaemon.h:50</a></div></div>
<div class="ttc" id="classWsDecompressor_html"><div class="ttname"><a href="classWsDecompressor.html">WsDecompressor</a></div><div class="ttdoc">Used to decompress data. </div><div class="ttdef"><b>Definition:</b> <a href="WsDecompressor_8h_source.html#l00024">WsDecompressor.h:24</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a67788ada881f3dc19c1819fb54b6f709"><div class="ttname"><a href="classWsFsTreeOperations.html#a67788ada881f3dc19c1819fb54b6f709">WsFsTreeOperations::getSearchResults</a></div><div class="ttdeci">std::vector&lt; WsResultItem &gt; getSearchResults(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;terms)</div><div class="ttdoc">Get the results for searching for &amp;quot;terms&amp;quot;. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00078">WsFsTreeOperations.cpp:78</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a6c7d9fb0eb379ac0e7ba33b1bbadef74"><div class="ttname"><a href="namespaceRequestField.html#a6c7d9fb0eb379ac0e7ba33b1bbadef74">RequestField::ExclNames</a></div><div class="ttdeci">const std::string ExclNames</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00026">WsRequestType.h:26</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a5255a13d2cc2b611128c141c7e0d047b"><div class="ttname"><a href="namespaceRequestField.html#a5255a13d2cc2b611128c141c7e0d047b">RequestField::Email</a></div><div class="ttdeci">const std::string Email</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00025">WsRequestType.h:25</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a900c24e818e5c8dc68b4362b3de130f0"><div class="ttname"><a href="classWsFsDaemon.html#a900c24e818e5c8dc68b4362b3de130f0">WsFsDaemon::m_context</a></div><div class="ttdeci">zmq::context_t * m_context</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00291">WsFsDaemon.h:291</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_ada6cb030e447b75249e42a38e38988e1"><div class="ttname"><a href="classWsFsTreeOperations.html#ada6cb030e447b75249e42a38e38988e1">WsFsTreeOperations::renameNode</a></div><div class="ttdeci">int renameNode(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;uid, const string &amp;path, const string &amp;newPath)</div><div class="ttdoc">renames a node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00114">WsFsTreeOperations.cpp:114</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a48390b677eb6de8e6bf8de049e61ea04"><div class="ttname"><a href="namespaceRequestField.html#a48390b677eb6de8e6bf8de049e61ea04">RequestField::NewPath</a></div><div class="ttdeci">const std::string NewPath</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00031">WsRequestType.h:31</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a2f5f8c9bc46cfb1b61f901d89a81de8f"><div class="ttname"><a href="classWsFsDaemon.html#a2f5f8c9bc46cfb1b61f901d89a81de8f">WsFsDaemon::send</a></div><div class="ttdeci">DaemonStatus send(zmq::socket_t &amp;sock, const std::string &amp;s)</div><div class="ttdoc">Sends data on the socket. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00129">WsFsDaemon.cpp:129</a></div></div>
<div class="ttc" id="namespaceRequestField_html_acb204751e1a0b287efdc289b443760f7"><div class="ttname"><a href="namespaceRequestField.html#acb204751e1a0b287efdc289b443760f7">RequestField::Section</a></div><div class="ttdeci">const std::string Section</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00029">WsRequestType.h:29</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_ae656db5a758f0fcd8b608f9fc9c306b8"><div class="ttname"><a href="classWsFsTreeOperations.html#ae656db5a758f0fcd8b608f9fc9c306b8">WsFsTreeOperations::getProperties</a></div><div class="ttdeci">WsNodeProperties * getProperties(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;p)</div><div class="ttdoc">get properties of a node corresponding to the path </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00052">WsFsTreeOperations.cpp:52</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa55e8e6e6e8e9bb0550934075ee2679cc"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa55e8e6e6e8e9bb0550934075ee2679cc">SaveProp</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00061">WsRequestType.h:61</a></div></div>
<div class="ttc" id="classWsUserSession_html_ac00ca7722d2d7db5a608b5c97755e2a2"><div class="ttname"><a href="classWsUserSession.html#ac00ca7722d2d7db5a608b5c97755e2a2">WsUserSession::getEmail</a></div><div class="ttdeci">const std::string &amp; getEmail()</div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00062">WsUserSession.cpp:62</a></div></div>
<div class="ttc" id="classWsArraySerializer_html_ac1ca46b920a6a7393a0dabba81647e24"><div class="ttname"><a href="classWsArraySerializer.html#ac1ca46b920a6a7393a0dabba81647e24">WsArraySerializer::getSerializedForm</a></div><div class="ttdeci">const std::string getSerializedForm()</div><div class="ttdoc">returns the serailized form of the directory </div><div class="ttdef"><b>Definition:</b> <a href="WsArraySerializer_8cpp_source.html#l00032">WsArraySerializer.cpp:32</a></div></div>
<div class="ttc" id="WsLogger_8h_html_a159ca84d25a5487d8e81e4438725df19"><div class="ttname"><a href="WsLogger_8h.html#a159ca84d25a5487d8e81e4438725df19">LOG</a></div><div class="ttdeci">#define LOG</div><div class="ttdef"><b>Definition:</b> <a href="WsLogger_8h_source.html#l00022">WsLogger.h:22</a></div></div>
<div class="ttc" id="WsSearch_8h_html"><div class="ttname"><a href="WsSearch_8h.html">WsSearch.h</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a21e622b9b8e507cfbed6876d5a8b0f41"><div class="ttname"><a href="classWsFsDaemon.html#a21e622b9b8e507cfbed6876d5a8b0f41">WsFsDaemon::handleSavePropertyRequest</a></div><div class="ttdeci">DaemonStatus handleSavePropertyRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">saves one property received by a client for a node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00509">WsFsDaemon.cpp:509</a></div></div>
<div class="ttc" id="classWsNodeProperties_html_ae89729a7ab7f330fd5ad61992a3795b2"><div class="ttname"><a href="classWsNodeProperties.html#ae89729a7ab7f330fd5ad61992a3795b2">WsNodeProperties::getRoot</a></div><div class="ttdeci">Json::Value getRoot()</div><div class="ttdoc">Return the root of the Json tree. </div><div class="ttdef"><b>Definition:</b> <a href="WsNodeProperties_8cpp_source.html#l00133">WsNodeProperties.cpp:133</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a9dc233f315b1741e764e57adf8e01fbc"><div class="ttname"><a href="classWsFsTreeOperations.html#a9dc233f315b1741e764e57adf8e01fbc">WsFsTreeOperations::getPermissions</a></div><div class="ttdeci">int getPermissions(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;p)</div><div class="ttdoc">Get the permissions for a path for a set of groups. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00047">WsFsTreeOperations.cpp:47</a></div></div>
<div class="ttc" id="classWsTreeSerializer_html_ab872a2e213e5e9c6388f06d4ff234549"><div class="ttname"><a href="classWsTreeSerializer.html#ab872a2e213e5e9c6388f06d4ff234549">WsTreeSerializer::serialize</a></div><div class="ttdeci">int serialize()</div><div class="ttdoc">serialize the given data structur </div><div class="ttdef"><b>Definition:</b> <a href="WsTreeSerializer_8cpp_source.html#l00033">WsTreeSerializer.cpp:33</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afae06522eb89ac3398b2fe46c3304017dc"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afae06522eb89ac3398b2fe46c3304017dc">ClearCache</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00052">WsRequestType.h:52</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac"><div class="ttname"><a href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0a0a5bf8228891471069fae1f430222dac">WsFsDaemon::Success</a></div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00048">WsFsDaemon.h:48</a></div></div>
<div class="ttc" id="classWsUserSession_html_a508d579556e679c89d76a2eddd5f4e7b"><div class="ttname"><a href="classWsUserSession.html#a508d579556e679c89d76a2eddd5f4e7b">WsUserSession::setEmail</a></div><div class="ttdeci">void setEmail(const std::string &amp;email)</div><div class="ttdoc">set the email of the user </div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00077">WsUserSession.cpp:77</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_af8a19df186fb4f5e63b6858514fab5aa"><div class="ttname"><a href="classWsFsDaemon.html#af8a19df186fb4f5e63b6858514fab5aa">WsFsDaemon::handlePropsRequest</a></div><div class="ttdeci">DaemonStatus handlePropsRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends all the properties of a node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00406">WsFsDaemon.cpp:406</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a40dd96206debae4205c85371caf42967"><div class="ttname"><a href="namespaceRequestField.html#a40dd96206debae4205c85371caf42967">RequestField::Size</a></div><div class="ttdeci">const std::string Size</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00036">WsRequestType.h:36</a></div></div>
<div class="ttc" id="WsLogger_8h_html_ae1103fea1e1b3c41ca3322d5389f7162"><div class="ttname"><a href="WsLogger_8h.html#ae1103fea1e1b3c41ca3322d5389f7162">INFO</a></div><div class="ttdeci">#define INFO</div><div class="ttdef"><b>Definition:</b> <a href="WsLogger_8h_source.html#l00032">WsLogger.h:32</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a300edc90106b5aa53d1fc91397969710"><div class="ttname"><a href="classWsFsDaemon.html#a300edc90106b5aa53d1fc91397969710">WsFsDaemon::handleGetTreeVersion</a></div><div class="ttdeci">DaemonStatus handleGetTreeVersion(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends the last tree version to the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00576">WsFsDaemon.cpp:576</a></div></div>
<div class="ttc" id="WsTreeSerializer_8h_html"><div class="ttname"><a href="WsTreeSerializer_8h.html">WsTreeSerializer.h</a></div><div class="ttdoc">Serialize the menuTree to send it over network. </div></div>
<div class="ttc" id="WsMenuTree_8h_html"><div class="ttname"><a href="WsMenuTree_8h.html">WsMenuTree.h</a></div><div class="ttdoc">Reprensents the menu tree of a group. If a group does not have access to a Node, this Node will not s...</div></div>
<div class="ttc" id="classWsFsTreeOperations_html_ac5fcf594f2f6af45f813643debed08f2"><div class="ttname"><a href="classWsFsTreeOperations.html#ac5fcf594f2f6af45f813643debed08f2">WsFsTreeOperations::deleteNode</a></div><div class="ttdeci">int deleteNode(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;uid, const string &amp;path)</div><div class="ttdoc">delete a node. The user must be an Admin on editor to remove the node </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00109">WsFsTreeOperations.cpp:109</a></div></div>
<div class="ttc" id="classWsDecompressor_html_a9e416710113e7f86207ebb894fef628c"><div class="ttname"><a href="classWsDecompressor.html#a9e416710113e7f86207ebb894fef628c">WsDecompressor::decompress</a></div><div class="ttdeci">long decompress(const char *data, size_t size, std::string &amp;uncompressedData)</div><div class="ttdoc">decompress the input data and store result in uncompressedData </div><div class="ttdef"><b>Definition:</b> <a href="WsDecompressor_8cpp_source.html#l00024">WsDecompressor.cpp:24</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_af1ee088ebb9f8e6036443e441cad72b4"><div class="ttname"><a href="classWsFsDaemon.html#af1ee088ebb9f8e6036443e441cad72b4">WsFsDaemon::WsFsDaemon</a></div><div class="ttdeci">WsFsDaemon(WsGlobalProperties *props)</div><div class="ttdoc">constructor for the server </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00029">WsFsDaemon.cpp:29</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ace713e1eb1dd49bda971ed95610415c0"><div class="ttname"><a href="classWsFsDaemon.html#ace713e1eb1dd49bda971ed95610415c0">WsFsDaemon::DaemonStatus</a></div><div class="ttdeci">DaemonStatus</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00047">WsFsDaemon.h:47</a></div></div>
<div class="ttc" id="WsGlobalConfig_8h_html"><div class="ttname"><a href="WsGlobalConfig_8h.html">WsGlobalConfig.h</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a8930f5674a8509c86600ed9ca54347c4"><div class="ttname"><a href="namespaceRequestField.html#a8930f5674a8509c86600ed9ca54347c4">RequestField::Type</a></div><div class="ttdeci">const std::string Type</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00019">WsRequestType.h:19</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a6b3ac60003ddbc738816e271d52a12c3"><div class="ttname"><a href="namespaceRequestField.html#a6b3ac60003ddbc738816e271d52a12c3">RequestField::Uid</a></div><div class="ttdeci">const std::string Uid</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00020">WsRequestType.h:20</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_a8885a806546abcefd8b1638c46ff4b65"><div class="ttname"><a href="classWsAuthenticator.html#a8885a806546abcefd8b1638c46ff4b65">WsAuthenticator::getUserGroups</a></div><div class="ttdeci">std::set&lt; std::string &gt; getUserGroups()</div><div class="ttdoc">return the user groups WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00076">WsAuthenticator.cpp:76</a></div></div>
<div class="ttc" id="classWsCompressor_html_a92eaa36679d39358fd25beaa23dcc2d2"><div class="ttname"><a href="classWsCompressor.html#a92eaa36679d39358fd25beaa23dcc2d2">WsCompressor::compress</a></div><div class="ttdeci">long compress(const std::string &amp;data, char **compressedData)</div><div class="ttdoc">compress the input string (data) and puts it in compressedData. </div><div class="ttdef"><b>Definition:</b> <a href="WsCompressor_8cpp_source.html#l00022">WsCompressor.cpp:22</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_ad31b96f15500b160cb30f8e44abb68a0"><div class="ttname"><a href="classWsAuthenticator.html#ad31b96f15500b160cb30f8e44abb68a0">WsAuthenticator::getAllGroups</a></div><div class="ttdeci">std::set&lt; std::string &gt; getAllGroups()</div><div class="ttdoc">return all the possible groups WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00083">WsAuthenticator.cpp:83</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a7a9e88326b4f6e06e7487596ff868178"><div class="ttname"><a href="classWsFsTreeOperations.html#a7a9e88326b4f6e06e7487596ff868178">WsFsTreeOperations::isAdministrator</a></div><div class="ttdeci">bool isAdministrator(const std::set&lt; std::string &gt; &amp;groups)</div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00119">WsFsTreeOperations.cpp:119</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a196619c3e32b551b9a0d9261ec20c362"><div class="ttname"><a href="classWsFsTreeOperations.html#a196619c3e32b551b9a0d9261ec20c362">WsFsTreeOperations::getFsTreeStamp</a></div><div class="ttdeci">const std::string &amp; getFsTreeStamp()</div><div class="ttdoc">Get the stamp of the last WsFileSystemTree. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00134">WsFsTreeOperations.cpp:134</a></div></div>
<div class="ttc" id="classWsGlobalProperties_html_abd25ec7a371e434fea667fb9a3467181"><div class="ttname"><a href="classWsGlobalProperties.html#abd25ec7a371e434fea667fb9a3467181">WsGlobalProperties::get</a></div><div class="ttdeci">std::string get(const std::string &amp;section, const std::string &amp;id, const std::string &amp;def)</div><div class="ttdef"><b>Definition:</b> <a href="WsGlobalProperties_8cpp_source.html#l00038">WsGlobalProperties.cpp:38</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a4ed7e6971871084424b93bc1eea297f7"><div class="ttname"><a href="namespaceRequestField.html#a4ed7e6971871084424b93bc1eea297f7">RequestField::Value</a></div><div class="ttdeci">const std::string Value</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00039">WsRequestType.h:39</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a63ca715b09bdbf21f0ebc1ae1cb054cc"><div class="ttname"><a href="classWsFsDaemon.html#a63ca715b09bdbf21f0ebc1ae1cb054cc">WsFsDaemon::handlePropRequest</a></div><div class="ttdeci">DaemonStatus handlePropRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends a property of a node to the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00422">WsFsDaemon.cpp:422</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa6fbba0662432b00b8261f62959ad27c9"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6fbba0662432b00b8261f62959ad27c9">RootPath</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00058">WsRequestType.h:58</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa26ba5a4cd6dbbe498101df0a272d9dbf"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa26ba5a4cd6dbbe498101df0a272d9dbf">Perm</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00047">WsRequestType.h:47</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a107da373fb9bbbbb2a604e833057e3dc"><div class="ttname"><a href="classWsFsTreeOperations.html#a107da373fb9bbbbb2a604e833057e3dc">WsFsTreeOperations::getRootPath</a></div><div class="ttdeci">const std::string getRootPath()</div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00084">WsFsTreeOperations.cpp:84</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a723bfd2382cb71bd6420016d56926af6"><div class="ttname"><a href="classWsFsDaemon.html#a723bfd2382cb71bd6420016d56926af6">WsFsDaemon::m_compressor</a></div><div class="ttdeci">WsCompressor * m_compressor</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00284">WsFsDaemon.h:284</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a0baea78bfd6fd3093103f62ea5dbc17f"><div class="ttname"><a href="namespaceRequestField.html#a0baea78bfd6fd3093103f62ea5dbc17f">RequestField::Ip</a></div><div class="ttdeci">const std::string Ip</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00021">WsRequestType.h:21</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a1c092db458f83e36e04af5bb3e797231"><div class="ttname"><a href="classWsFsDaemon.html#a1c092db458f83e36e04af5bb3e797231">WsFsDaemon::handleAuthRequest</a></div><div class="ttdeci">DaemonStatus handleAuthRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">Authenticate user on server Loads the groups which the user belongs to, uid, email, etc.. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00280">WsFsDaemon.cpp:280</a></div></div>
<div class="ttc" id="classWsUserSession_html_a812c4f6413df42290f2614fc15b3f3b5"><div class="ttname"><a href="classWsUserSession.html#a812c4f6413df42290f2614fc15b3f3b5">WsUserSession::getSurname</a></div><div class="ttdeci">const std::string &amp; getSurname()</div><div class="ttdef"><b>Definition:</b> <a href="WsUserSession_8cpp_source.html#l00057">WsUserSession.cpp:57</a></div></div>
<div class="ttc" id="classWsTreeSerializer_html_a0f64335108b8fefbfc8416c119d9f3c0"><div class="ttname"><a href="classWsTreeSerializer.html#a0f64335108b8fefbfc8416c119d9f3c0">WsTreeSerializer::getSerializedForm</a></div><div class="ttdeci">const std::string getSerializedForm()</div><div class="ttdoc">returns the Json text representing the given structure </div><div class="ttdef"><b>Definition:</b> <a href="WsTreeSerializer_8cpp_source.html#l00077">WsTreeSerializer.cpp:77</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a2667f456e4f646bdd52f8b8ef5bacce1"><div class="ttname"><a href="namespaceRequestField.html#a2667f456e4f646bdd52f8b8ef5bacce1">RequestField::Body</a></div><div class="ttdeci">const std::string Body</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00035">WsRequestType.h:35</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afaf42dd3bc2be56354d2fbf529a3141416"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afaf42dd3bc2be56354d2fbf529a3141416">Search</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00051">WsRequestType.h:51</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a2d99d246eaf141f04959a6eb08d0e1ab"><div class="ttname"><a href="classWsFsDaemon.html#a2d99d246eaf141f04959a6eb08d0e1ab">WsFsDaemon::m_allGroups</a></div><div class="ttdeci">set&lt; string &gt; m_allGroups</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00274">WsFsDaemon.h:274</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a1db290cab351b9d45319a9cf5f888061"><div class="ttname"><a href="classWsFsDaemon.html#a1db290cab351b9d45319a9cf5f888061">WsFsDaemon::handleAccessTreeRequest</a></div><div class="ttdeci">DaemonStatus handleAccessTreeRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">Sends the accesstree to the client. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00364">WsFsDaemon.cpp:364</a></div></div>
<div class="ttc" id="classWsLogWriter_html_a73a7c0bf9f65a86c0b991b780dee598c"><div class="ttname"><a href="classWsLogWriter.html#a73a7c0bf9f65a86c0b991b780dee598c">WsLogWriter::instance</a></div><div class="ttdeci">static WsLogWriter * instance()</div><div class="ttdoc">returns the instance of the WsLogWriter class. If no instance is existing, a new instance will be ret...</div><div class="ttdef"><b>Definition:</b> <a href="WsLogWriter_8cpp_source.html#l00026">WsLogWriter.cpp:26</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afab0051f1de45115a1ffbf9699d9700afb"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab0051f1de45115a1ffbf9699d9700afb">AllGroups</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00048">WsRequestType.h:48</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a5bd31486a40047320fad603506247950"><div class="ttname"><a href="classWsFsTreeOperations.html#a5bd31486a40047320fad603506247950">WsFsTreeOperations::isEditor</a></div><div class="ttdeci">bool isEditor(const std::set&lt; std::string &gt; &amp;groups)</div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00124">WsFsTreeOperations.cpp:124</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa3a1d282dfe3b3c2371a5dca532d2318b"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa3a1d282dfe3b3c2371a5dca532d2318b">IsAdmin</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00057">WsRequestType.h:57</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a20464a96ef8f80579ced0313a554dd0c"><div class="ttname"><a href="namespaceRequestField.html#a20464a96ef8f80579ced0313a554dd0c">RequestField::Name</a></div><div class="ttdeci">const std::string Name</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00023">WsRequestType.h:23</a></div></div>
<div class="ttc" id="WsGlobalConfig_8h_html_a6d58f9ac447476b4e084d7ca383f5183"><div class="ttname"><a href="WsGlobalConfig_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a></div><div class="ttdeci">#define FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="WsGlobalConfig_8h_source.html#l00017">WsGlobalConfig.h:17</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_a7ec1a8a40cece9633815c464abdfe125"><div class="ttname"><a href="classWsAuthenticator.html#a7ec1a8a40cece9633815c464abdfe125">WsAuthenticator::authentify</a></div><div class="ttdeci">int authentify(const std::string &amp;uid, const std::string &amp;pass=&quot;&quot;, const std::string &amp;ip=&quot;&quot;)</div><div class="ttdoc">authentify the user. </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00033">WsAuthenticator.cpp:33</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ac22a6afd304eeb439974a2d13dc6b497"><div class="ttname"><a href="classWsFsDaemon.html#ac22a6afd304eeb439974a2d13dc6b497">WsFsDaemon::handleMenuRequest</a></div><div class="ttdeci">DaemonStatus handleMenuRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">Sends the menu to the client. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00322">WsFsDaemon.cpp:322</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afab0404ffef733441150fb5ee322fec245"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afab0404ffef733441150fb5ee322fec245">Properties</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00049">WsRequestType.h:49</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a37d9923bdaf0813c820b4536853a1c9c"><div class="ttname"><a href="classWsFsDaemon.html#a37d9923bdaf0813c820b4536853a1c9c">WsFsDaemon::handleRootPathRequest</a></div><div class="ttdeci">DaemonStatus handleRootPathRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">send the rootPath to the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00567">WsFsDaemon.cpp:567</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a5deafe05b289714ecd75a98844196aac"><div class="ttname"><a href="namespaceRequestField.html#a5deafe05b289714ecd75a98844196aac">RequestField::Success</a></div><div class="ttdeci">const std::string Success</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00032">WsRequestType.h:32</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa6b59cf161fe69fad3478f2aa7b98bf7f"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa6b59cf161fe69fad3478f2aa7b98bf7f">Property</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00050">WsRequestType.h:50</a></div></div>
<div class="ttc" id="namespaceRequestField_html_afe032d68e9fb2b0771e1af2ad35437f1"><div class="ttname"><a href="namespaceRequestField.html#afe032d68e9fb2b0771e1af2ad35437f1">RequestField::Key</a></div><div class="ttdeci">const std::string Key</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00038">WsRequestType.h:38</a></div></div>
<div class="ttc" id="WsFsDaemon_8h_html"><div class="ttname"><a href="WsFsDaemon_8h.html">WsFsDaemon.h</a></div><div class="ttdoc">Take charge of FS operations. </div></div>
<div class="ttc" id="classWsFsDaemon_html_a7381f737725341bafd270fa588669465"><div class="ttname"><a href="classWsFsDaemon.html#a7381f737725341bafd270fa588669465">WsFsDaemon::handleMenuRequestEx</a></div><div class="ttdeci">DaemonStatus handleMenuRequestEx(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">Sends the menu to the client, the client requested a menu with exclusion of extensions. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00338">WsFsDaemon.cpp:338</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a71d274393962b19a440922ed44ca7d26"><div class="ttname"><a href="classWsFsDaemon.html#a71d274393962b19a440922ed44ca7d26">WsFsDaemon::workerRoutine</a></div><div class="ttdeci">DaemonStatus workerRoutine()</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00049">WsFsDaemon.cpp:49</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a0cdea02a49390c7967404daf0716f750"><div class="ttname"><a href="namespaceRequestField.html#a0cdea02a49390c7967404daf0716f750">RequestField::Failure</a></div><div class="ttdeci">const std::string Failure</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00033">WsRequestType.h:33</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a6a7d250be13f7c64cad0ff7db0b3530b"><div class="ttname"><a href="namespaceRequestField.html#a6a7d250be13f7c64cad0ff7db0b3530b">RequestField::ExclExt</a></div><div class="ttdeci">const std::string ExclExt</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00027">WsRequestType.h:27</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a1e917138cd1abb3602387fef6e358b40"><div class="ttname"><a href="namespaceRequestField.html#a1e917138cd1abb3602387fef6e358b40">RequestField::Property</a></div><div class="ttdeci">const std::string Property</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00030">WsRequestType.h:30</a></div></div>
<div class="ttc" id="classWsAuthenticator_html_ae5fd81dfc6a89be3ffed07b320ebb67a"><div class="ttname"><a href="classWsAuthenticator.html#ae5fd81dfc6a89be3ffed07b320ebb67a">WsAuthenticator::getFirstName</a></div><div class="ttdeci">std::string getFirstName()</div><div class="ttdoc">return the user name WsAuthenticator::authentify must be called before </div><div class="ttdef"><b>Definition:</b> <a href="WsAuthenticator_8cpp_source.html#l00055">WsAuthenticator.cpp:55</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a3e8479f822b99adb763ca63bd83aa7e2"><div class="ttname"><a href="classWsFsTreeOperations.html#a3e8479f822b99adb763ca63bd83aa7e2">WsFsTreeOperations::createNode</a></div><div class="ttdeci">int createNode(const std::set&lt; std::string &gt; &amp;groups, const std::string &amp;uid, const string &amp;path, int type)</div><div class="ttdoc">create a directory or File. If the node is a WsDirNode than it will be only accessible to the Admin a...</div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00104">WsFsTreeOperations.cpp:104</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ae050dc9bf7b159e6f13c8f59f2a012fb"><div class="ttname"><a href="classWsFsDaemon.html#ae050dc9bf7b159e6f13c8f59f2a012fb">WsFsDaemon::handleIsAdminRequest</a></div><div class="ttdeci">DaemonStatus handleIsAdminRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends the result of an admin request so that the client can know if he is an admin or not ...</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00483">WsFsDaemon.cpp:483</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afae9870516d2fb437112e0bdce51eb5ca6"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afae9870516d2fb437112e0bdce51eb5ca6">SaveProps</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00060">WsRequestType.h:60</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a9e7994b204222ef59816d33f75f8654c"><div class="ttname"><a href="classWsFsTreeOperations.html#a9e7994b204222ef59816d33f75f8654c">WsFsTreeOperations::getMenuTree</a></div><div class="ttdeci">WsMenuTree * getMenuTree(const std::set&lt; std::string &gt; &amp;groups)</div><div class="ttdoc">Get the menu tree starting from rootPath. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00062">WsFsTreeOperations.cpp:62</a></div></div>
<div class="ttc" id="WsLogger_8h_html_a8fe83ac76edc595f6b98cd4a4127aed5"><div class="ttname"><a href="WsLogger_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a></div><div class="ttdeci">#define ERROR</div><div class="ttdef"><b>Definition:</b> <a href="WsLogger_8h_source.html#l00042">WsLogger.h:42</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa443f0d995509c894dbd7a9f7b631245d"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa443f0d995509c894dbd7a9f7b631245d">AccessItems</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00055">WsRequestType.h:55</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ab43277c5c9073c27f80a444c2b9948b1"><div class="ttname"><a href="classWsFsDaemon.html#ab43277c5c9073c27f80a444c2b9948b1">WsFsDaemon::handleClearCache</a></div><div class="ttdeci">DaemonStatus handleClearCache(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">clears the user from the cache </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00460">WsFsDaemon.cpp:460</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_ad97f3c8f85e0b8b5d8319d1d498a5aca"><div class="ttname"><a href="classWsFsDaemon.html#ad97f3c8f85e0b8b5d8319d1d498a5aca">WsFsDaemon::m_compress</a></div><div class="ttdeci">bool m_compress</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8h_source.html#l00279">WsFsDaemon.h:279</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_aa1db4185b295b469b5f4532f6b9d3394"><div class="ttname"><a href="classWsFsDaemon.html#aa1db4185b295b469b5f4532f6b9d3394">WsFsDaemon::handleSearchRequest</a></div><div class="ttdeci">DaemonStatus handleSearchRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends the result of a search request to the client. Only nodes where the user has access are returned...</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00437">WsFsDaemon.cpp:437</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afac26e5e5d100fa1ff47abe6a00038c1fa"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afac26e5e5d100fa1ff47abe6a00038c1fa">CreateNode</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00062">WsRequestType.h:62</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a87d48549bb10dd2d3ada77c83a1d697a"><div class="ttname"><a href="classWsFsDaemon.html#a87d48549bb10dd2d3ada77c83a1d697a">WsFsDaemon::handleAllGroupsRequest</a></div><div class="ttdeci">DaemonStatus handleAllGroupsRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends all the groups available to the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00395">WsFsDaemon.cpp:395</a></div></div>
<div class="ttc" id="WsRequestType_8h_html_ae10b07f2d0feb103db7fe4cfd192e5afa0ec819fe1e5331a285201a065d1f54df"><div class="ttname"><a href="WsRequestType_8h.html#ae10b07f2d0feb103db7fe4cfd192e5afa0ec819fe1e5331a285201a065d1f54df">DeleteNode</a></div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00063">WsRequestType.h:63</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_aa4b123baf628d0d6b0fcb02cbc1ee271"><div class="ttname"><a href="classWsFsDaemon.html#aa4b123baf628d0d6b0fcb02cbc1ee271">WsFsDaemon::handleRequest</a></div><div class="ttdeci">DaemonStatus handleRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">Handle received request and redirect to correct method. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00198">WsFsDaemon.cpp:198</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a687bbc741b08b02f7eaffd3f44cc7cfb"><div class="ttname"><a href="classWsFsDaemon.html#a687bbc741b08b02f7eaffd3f44cc7cfb">WsFsDaemon::handleIsEditorRequest</a></div><div class="ttdeci">DaemonStatus handleIsEditorRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">sends the result of an editor request so that the client can know if he is an editor or not ...</div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00470">WsFsDaemon.cpp:470</a></div></div>
<div class="ttc" id="classWsFsTreeOperations_html_a3b72493a6b18e67afde289b165f2a9e7"><div class="ttname"><a href="classWsFsTreeOperations.html#a3b72493a6b18e67afde289b165f2a9e7">WsFsTreeOperations::update</a></div><div class="ttdeci">int update()</div><div class="ttdoc">Update the WsFileSystemTree. </div><div class="ttdef"><b>Definition:</b> <a href="WsFsTreeOperations_8cpp_source.html#l00129">WsFsTreeOperations.cpp:129</a></div></div>
<div class="ttc" id="classWsFsDaemon_html_a417efb5aa215eee3dd4ac7532b65f114"><div class="ttname"><a href="classWsFsDaemon.html#a417efb5aa215eee3dd4ac7532b65f114">WsFsDaemon::handleDeleteNodeRequest</a></div><div class="ttdeci">DaemonStatus handleDeleteNodeRequest(zmq::socket_t &amp;sock, Json::Value &amp;root)</div><div class="ttdoc">delete a node requested by the client </div><div class="ttdef"><b>Definition:</b> <a href="WsFsDaemon_8cpp_source.html#l00540">WsFsDaemon.cpp:540</a></div></div>
<div class="ttc" id="namespaceRequestField_html_a0511633c97bd79c4f9f8fa7840202e90"><div class="ttname"><a href="namespaceRequestField.html#a0511633c97bd79c4f9f8fa7840202e90">RequestField::Terms</a></div><div class="ttdeci">const std::string Terms</div><div class="ttdef"><b>Definition:</b> <a href="WsRequestType_8h_source.html#l00034">WsRequestType.h:34</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 23 2013 22:47:18 for Wittyshare by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
